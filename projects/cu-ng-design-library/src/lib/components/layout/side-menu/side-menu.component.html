<mat-drawer-container>
  <mat-drawer #drawer opened class="sidenav" mode="side" autosize>

    <mat-toolbar class="sidebar-logo" color="primary">
      <img alt="Cornell University" [src]="svgIconUrl" height="45">
      {{title}}
    </mat-toolbar>

    <mat-nav-list>
      <ng-container *ngFor="let route of routes">
        <ng-container *ngIf="route.data && route.data['menu'] == 'admin'"
          >

          <mat-list-item *ngIf="!route.children; else parent ">

            <a [routerLink]="route.path"
              routerLinkActive="active"
              [routerLinkActiveOptions]="{exact: true}"
            >
              <mat-icon matListIcon *ngIf="route.data['icon']">{{route.data['icon']}}</mat-icon>
              {{route.data && route.data['title'] ? route.data['title'] : route.path}}
            </a>
          </mat-list-item>

          <ng-template #parent>
            <mat-list-item>
              <a
                routerLink="{{route.path}}">
                <mat-icon matListIcon *ngIf="route.data['icon']">{{route.data['icon']}}</mat-icon>
                {{route.data && route.data['title'] ? route.data['title'] : route.path}}</a>
            </mat-list-item>

            <mat-list-item *ngFor="let child of route.children">
              <a routerLink="{{route.path}}/{{child.path}}"
                routerLinkActive="active"
                [routerLinkActiveOptions]="{exact: true}"
                class="pad-left"
              >
                <mat-icon matListIcon *ngIf="child.data && child.data['icon']">{{ child.data['icon'] }}</mat-icon>
                {{child.data && child.data['title'] ? child.data['title'] : child.path}}
              </a>
            </mat-list-item>
          </ng-template>
        </ng-container>
      </ng-container>

    </mat-nav-list>

  </mat-drawer>

  <mat-drawer-content>
    <lib-admin-toolbar (toggleSidenav)="drawer.toggle()" (toggleSidenavNotice)="drawer.toggle()">
      <ng-content select="[toolbar]"></ng-content>
    </lib-admin-toolbar>
    <ng-content></ng-content>
  </mat-drawer-content>


</mat-drawer-container>
